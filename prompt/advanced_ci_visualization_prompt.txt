# 高级可视化指南：置信区间 (Confidence Interval) 动态分析
# 本文档包含两个高级图表的提示词 (Prompt) 和对应的设计理念 (Concept)。
# 旨在展示模型推断的精确度随时间 (周次) 和 赛制演变 (赛季) 的变化。

================================================================
图表 5：置信区间宽度的时空演变 (Spatio-Temporal Evolution of CI Width)
# 对应数据: data/season_uncertainty_summary.csv (按季)
# 目标: 展示不同赛制下，模型置信区间的宽度差异。
================================================================

【设计理念】
不仅仅是一个简单的柱状图，而是一个带有统计分布感的“小提琴图”或“带有误差带的折线图”，结合赛制背景区域，突出 Percent 赛制的极高精度（窄 CI）。

【画图提示词 (Python/Seaborn/Matplotlib)】
Create a sophisticated visualization showing the Average Confidence Interval (CI) Width across all 34 seasons.
1.  **Plot Type**: Combination of a Line Plot (for the trend) and a Filled Area (Ribbon) representing the variability.
2.  **X-axis**: "Season" (1-34).
3.  **Y-axis**: "Average CI Width" (Log Scale might be needed if differences are huge, or allow auto-scale). Label it "Uncertainty Magnitude (Avg CI Width)".
4.  **Regime Shading**: Background should be shaded to distinguish the three eras:
    -   Seasons 1-2 (Rank): Light Gray/Blue background. Annotation: "Rank Era (High Uncertainty)".
    -   Seasons 3-27 (Percent): Very Light Green background. Annotation: "Percent Era (High Precision)".
    -   Seasons 28-34 (Bottom-2): Light Orange background. Annotation: "Judge Save Era (Structural Ambiguity)".
5.  **Data Representation**:
    -   Draw a bold, dark line connecting the 'ci_width' values for each season.
    -   Place scatter points on top of the line, colored by Regime (Blue/Green/Orange).
    -   Add a horizontal dashed line at Y=0.01 representing "1% Margin Threshold".
6.  **Style**: Minimalist, academic publication style (white background, no grid or subtle grey grid).
7.  **Key Insight**: Visually emphasize how the line drops near zero during the Percent Era and jumps back up in the Bottom-2 Era.

================================================================
图表 6：每周置信区间的收敛漏斗 (The Convergence Funnel: CI Width by Week)
# 对应数据: data/week_uncertainty_summary.csv (按周)
# 目标: 展示随着比赛进行（选手减少），不确定性是如何收敛（或发散）的。
================================================================

【设计理念】
“漏斗图”或“扇形图”风格。随着 Week 增加（X轴），展示置信区间（Y轴）是如何变化的。理论上，随着人数减少，如果是 Rank 制，CI 会变窄（每个人分到的蛋糕更确定）；如果是 Bottom-2，通过 Save 可能引入噪音。

【画图提示词 (Python/Matplotlib)】
Create a "Fan Chart" or "Ribbon Chart" illustrating the evolution of Inference Uncertainty over the weeks (1 to 11).
1.  **Data Source**: Use `week_uncertainty_summary.csv`.
2.  **X-axis**: "Week of Competition" (1 to 11).
3.  **Primary metric**: Plot 'ci_width' as the central trend line (Bold).
4.  **Uncertainty Interval**:
    -   Create a shaded area bounded by `ci_low` and `ci_high` (normalized or relative to the mean, if available, or just plot the raw width as a "band" centered around the mean prediction).
    -   *Alternative approach for this specific data*: Since we have `ci_width` directly, plot `ci_width` on the Y-axis. To make it "Advanced", implement a **dual-axis** chart:
        -   **Left Y-axis (Bar)**: `cv` (Coefficient of Variation) - shows relative volatility.
        -   **Right Y-axis (Line)**: `ci_width` - shows absolute uncertainty range.
5.  **Color Gradient**:
    -   Use a gradient color for the bars/line, changing from "Cool" (Week 1) to "Warm" (Week 11) to symbolize the increasing tension of the finale.
6.  **Annotations**:
    -   Arrow pointing to the trend: "Uncertainty Convergence" (if trend goes down) or "Persistent Ambiguity" (if flat).
    -   Based on data: The CV drops from ~0.14 (Week 1) to ~0.08 (Week 10), indicating the model becomes more confident as the field narrows.
7.  **Title**: "The Clarity Horizon: Temporal Evolution of Inference Confidence".

【高级选项：3D 瀑布图 (3D Waterfall Plot - Conceptual)】
(If using tools capable of 3D like Plotly)
-   **X-axis**: Week
-   **Y-axis**: Season
-   **Z-axis**: CI Width
-   Create a 3D surface map where the "Percent Era" (Seasons 3-27) appears as a flat "valley" of high precision, while Rank and Bottom-2 Eras appear as "mountains" of uncertainty, with ridges tapering off as Weeks progress.
